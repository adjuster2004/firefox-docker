#!/bin/bash
# stop.sh - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

echo "üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Firefox Hosts Editor..."
echo "==================================="

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
if docker stop firefox-hosts-editor 2>/dev/null; then
    echo "‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
else
    echo "‚ö†Ô∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω"
fi

# –£–¥–∞–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
if docker rm firefox-hosts-editor 2>/dev/null; then
    echo "‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª–µ–Ω"
else
    echo "‚ö†Ô∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª"
fi

# –ó–∞–∫—Ä—ã–≤–∞–µ–º Firefox –µ—Å–ª–∏ –æ–Ω –æ—Å—Ç–∞–ª—Å—è
echo "üßπ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Firefox..."
pkill -9 firefox 2>/dev/null || true

# –û—Ç–∫–ª—é—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ X —Å–µ—Ä–≤–µ—Ä—É
echo "üîí –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ X —Å–µ—Ä–≤–µ—Ä—É..."
xhost -local:docker 2>/dev/null || true

echo ""
echo "‚úÖ –í—Å–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!"
echo "–î–ª—è –∑–∞–ø—É—Å–∫–∞: ./run.sh"
